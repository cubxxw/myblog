(window["aioseopjsonp"]=window["aioseopjsonp"]||[]).push([["redirects-pro-ImportExport-vue","redirects-pro-partials-ExportRedirects-vue","redirects-pro-partials-ImportAioseo-vue","redirects-pro-partials-ImportOthers-vue"],{"06e3":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("core-card",{staticClass:"aioseo-redirects-import-others",attrs:{id:"aioseo-redirects-import-others",slug:"importOtherPluginsRedirects",toggles:!1,"no-slide":"","header-text":t.strings.importRedirectsFromOtherPlugins},scopedSlots:t._u([{key:"header-icon",fn:function(){return[s("svg-download")]},proxy:!0}])},[s("div",{staticClass:"aioseo-section-description"},[t._v(" "+t._s(t.strings.importOthersDescription)+" ")]),t.importSuccess?s("core-alert",{staticClass:"import-success",attrs:{type:"green"}},[t._v(" "+t._s(t.importSuccessful)+" ")]):t._e(),t.importError?s("core-alert",{staticClass:"import-error",attrs:{type:"red"}},[t._v(" "+t._s(t.importErrorMessage)+" ")]):t._e(),s("base-select",{attrs:{size:"medium",options:t.plugins,placeholder:t.strings.selectPlugin},scopedSlots:t._u([{key:"option",fn:function(e){var i=e.option;return[s("div",{staticClass:"import-plugin-label"},[s("span",{staticClass:"plugin-label"},[t._v(t._s(i.label))]),i.$isDisabled?s("span",{staticClass:"plugin-status"},[t._v(t._s(t.strings.notInstalled))]):t._e()])]}}]),model:{value:t.plugin,callback:function(e){t.plugin=e},expression:"plugin"}}),s("base-button",{staticClass:"import",attrs:{type:"blue",size:"medium",disabled:!t.plugin,loading:t.loading},on:{click:t.processImportPlugin}},[t._v(" "+t._s(t.strings.import)+" ")])],1)},o=[],r=s("5530"),n=(s("159b"),s("b0c0"),s("4de4"),s("b64b"),s("2f62")),l={data:function(){return{importSuccess:!1,importError:!1,options:{},plugin:null,loading:!1,strings:{importRedirectsFromOtherPlugins:this.$t.__("Import Redirects From Other Plugins",this.$td),importOthersDescription:this.$t.sprintf(this.$t.__("Choose a plugin to import redirects directly into %1$s.",this.$td),"AIOSEO"),selectPlugin:this.$t.__("Select a plugin...",this.$td),import:this.$t.__("Import",this.$td),allRedirects:this.$t.__("All Redirects",this.$td),notInstalled:this.$t.__("not installed",this.$td)}}},watch:{plugin:function(){this.importSuccess=!1,this.importError=!1,this.options={}}},computed:{plugins:function(){var t=[];return this.$aioseo.redirects.importers.forEach((function(e){t.push({value:e.slug,label:e.name,canImport:e.canImport,version:e.version,$isDisabled:!e.installed})})),t},importSuccessful:function(){return this.$t.sprintf(this.$t.__("%1$s was successfully imported!",this.$td),this.plugin.label)},importErrorMessage:function(){return this.$t.sprintf(this.$t.__("An error occurred while importing %1$s. Please try again.",this.$td),this.plugin.label)}},methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])("redirects",["importPlugins"])),{},{processImportPlugin:function(){var t=this;this.importSuccess=!1,this.importError=!1,this.loading=!0;var e=[];this.options.all?this.settings.filter((function(t){return"all"!==t.value})).forEach((function(t){e.push(t.value)})):Object.keys(this.options).forEach((function(s){t.options[s]&&e.push(s)})),this.importPlugins([{plugin:this.plugin.value,settings:e}]).then((function(){t.loading=!1,t.importSuccess=!0,t.options={}})).catch((function(){t.loading=!1,t.importError=!0,t.options={}}))},invalidVersion:function(t){return this.$t.sprintf(this.$t.__("We do not support importing from the currently installed version of %1$s (%2$s). Please upgrade to the latest version and try again.",this.$td),t.label,t.version)}})},a=l,c=(s("38ed"),s("2877")),p=Object(c["a"])(a,i,o,!1,null,null,null);e["default"]=p.exports},1704:function(t,e,s){"use strict";s("cb09")},"2abd":function(t,e,s){},"384a":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("core-card",{staticClass:"aioseo-redirects-import-aioseo",attrs:{slug:"importAioseoRedirects",toggles:!1,"no-slide":"","header-text":t.strings.importRestoreAioseoRedirects},scopedSlots:t._u([{key:"header-icon",fn:function(){return[s("svg-download")]},proxy:!0}])},[t.uploadError?s("core-alert",{staticClass:"import-error",attrs:{type:"red"}},[t._v(" "+t._s(t.uploadError)+" ")]):t._e(),t.uploadSuccess?s("core-alert",{staticClass:"import-error",attrs:{type:"green"}},[t._v(" "+t._s(t.strings.fileUploadedSuccessfully)+" ")]):t._e(),s("div",{staticClass:"file-upload"},[s("base-input",{class:{"aioseo-error":t.uploadError},attrs:{size:"medium",placeholder:t.strings.fileUploadPlaceholder},on:{focus:t.triggerFileUpload},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),s("base-button",{attrs:{type:"black",size:"medium"}},[t._v(" "+t._s(t.strings.chooseAFile)+" "),s("base-input",{ref:"file",attrs:{type:"file"},on:{click:t.reset,change:t.handleFileUpload},model:{value:t.inputFile,callback:function(e){t.inputFile=e},expression:"inputFile"}})],1)],1),s("div",{staticClass:"aioseo-description"},[t._v(" "+t._s(t.strings.fileUploadDescription)+" ")]),s("base-button",{staticClass:"import",attrs:{type:"blue",size:"medium",disabled:!t.file||!t.importValidated,loading:t.loading},on:{click:t.submitFile}},[t._v(" "+t._s(t.strings.import)+" ")])],1)},o=[],r=s("5530"),n=(s("8a79"),s("b0c0"),s("2f62")),l={data:function(){return{inputFile:null,filename:null,file:null,uploadError:!1,uploadSuccess:!1,loading:!1,strings:{importRestoreAioseoRedirects:this.$t.sprintf(this.$t.__("Import Redirects from %1$s File",this.$td),"AIOSEO"),fileUploadPlaceholder:this.$t.__("Import from a JSON file...",this.$td),chooseAFile:this.$t.__("Choose a File",this.$td),fileUploadDescription:this.$t.__("Imported redirects will overwrite existing redirects and will not be merged.",this.$td),import:this.$t.__("Import",this.$td),jsonFileTypeRequired:this.$t.__("A JSON file is required to import redirects.",this.$td),fileUploadedSuccessfully:this.$t.__("Success! Your redirects have been imported.",this.$td),fileUploadFailed:this.$t.__("There was an error importing your redirects. Please make sure you are uploading the correct file or it is in the proper format.",this.$td)}}},computed:{importValidated:function(){return!("application/json"!==this.file.type&&!this.file.name.endsWith(".ini"))}},methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])("redirects",["uploadFile"])),{},{reset:function(){this.uploadError=!1,this.filename=null,this.file=null,this.inputFile=null},triggerFileUpload:function(){this.reset(),this.$refs.file.$el.querySelector("input").focus(),this.$refs.file.$el.querySelector("input").click()},submitFile:function(){var t=this;this.loading=!0,this.uploadFile({file:this.file,filename:this.filename}).then((function(){t.reset(),t.uploadSuccess=!0,t.loading=!1})).catch((function(){t.reset(),t.loading=!1,t.uploadError=t.strings.fileUploadFailed}))},handleFileUpload:function(){this.reset(),this.file=this.$refs.file.$el.querySelector("input").files[0],this.file&&(this.filename=this.file.name,"application/json"!==this.file.type&&(this.uploadError=this.strings.jsonFileTypeRequired))}})},a=l,c=(s("1704"),s("2877")),p=Object(c["a"])(a,i,o,!1,null,null,null);e["default"]=p.exports},3869:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("core-card",{staticClass:"aioseo-export-redirects",attrs:{slug:"exportRedirects",toggles:!1,"no-slide":"","header-text":t.strings.exportRedirects},scopedSlots:t._u([{key:"header-icon",fn:function(){return[s("svg-upload")]},proxy:!0}])},[s("div",{staticClass:"export-redirects aioseo-settings-row"},[s("div",{staticClass:"export-description"},[t._v(" "+t._s(t.strings.exportDescription)+" ")]),s("grid-row",[s("grid-column",{staticClass:"export-logs"},[s("base-checkbox",{attrs:{size:"medium"},model:{value:t.exportOptions.all,callback:function(e){t.$set(t.exportOptions,"all",e)},expression:"exportOptions.all"}},[t._v(" "+t._s(t.strings.allRedirects)+" ")])],1),t._l(t.$constants.REDIRECT_GROUPS,(function(e,i){return s("grid-column",{key:i,attrs:{sm:"12"}},[t.exportOptions.all?t._e():s("base-checkbox",{attrs:{size:"medium"},model:{value:t.exportOptions[e.value],callback:function(s){t.$set(t.exportOptions,e.value,s)},expression:"exportOptions[group.value]"}},[t._v(" "+t._s(e.label)+" ")]),"all"!==e.value&&t.exportOptions.all?s("base-checkbox",{attrs:{size:"medium",value:!0,disabled:""}},[t._v(" "+t._s(e.label)+" ")]):t._e()],1)}))],2),s("base-select",{attrs:{size:"medium",options:t.exportTypes},model:{value:t.exportType,callback:function(e){t.exportType=e},expression:"exportType"}}),s("base-button",{staticClass:"import",attrs:{type:"blue",size:"medium",disabled:!t.canExport,loading:t.loading},on:{click:t.processExportRedirects}},[t._v(" "+t._s(t.strings.exportRedirects)+" ")])],1),s("div",{staticClass:"export-logs-wrapper"},[s("div",{staticClass:"export-logs"},[t._v(" "+t._s(t.strings.logs)+" ")]),t.options.logs.redirects.enabled&&"server"!==t.options.main.method?s("base-button",{attrs:{type:"gray",size:"medium",loading:t.exportingRedirectLogs},on:{click:function(e){return t.processExportLogs("redirect")}}},[t._v(" "+t._s(t.strings.exportRedirectLogs)+" ")]):t._e(),t.options.logs.log404.enabled?s("base-button",{attrs:{type:"gray",size:"medium",loading:t.exporting404Logs},on:{click:function(e){return t.processExportLogs("404")}}},[t._v(" "+t._s(t.strings.export404Logs)+" ")]):t._e()],1)])},o=[],r=s("5530"),n=(s("159b"),s("b64b"),s("4de4"),s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("99af"),s("fb6a"),s("2f62")),l={data:function(){return{exportingRedirectLogs:!1,exporting404Logs:!1,exportOptions:{},postOptions:{},loading:!1,exportType:{label:this.$t.__("Complete Data (JSON)",this.$td),value:"json"},exportTypes:[{label:this.$t.__("Complete Data (JSON)",this.$td),value:"json"},{label:this.$t.__("Apache Redirects (.htaccess)",this.$td),value:"htaccess"},{label:this.$t.__("Nginx Redirects (.nginx)",this.$td),value:"nginx"}],strings:{exportRedirects:this.$t.__("Export Redirects",this.$td),exportDescription:this.$t.__("Export to JSON, .htaccess or .nginx. The JSON format contains full information (and can be re-imported), while the other formats only contain partial information relavant to that format.",this.$td),allRedirects:this.$t.__("Export All Redirects",this.$td),logs:this.$t.__("Logs",this.$td),exportRedirectLogs:this.$t.__("Export Redirect Logs",this.$td),export404Logs:this.$t.__("Export 404 Logs",this.$td)}}},computed:Object(r["a"])(Object(r["a"])({},Object(n["e"])("redirects",["options"])),{},{settings:function(){var t=[{value:"webmasterTools",label:this.$t.__("Webmaster Tools",this.$td)},{value:"rssContent",label:this.$t.__("RSS Content",this.$td)},{value:"advanced",label:this.$t.__("Advanced",this.$td)},{value:"searchAppearance",label:this.$t.__("Search Appearance",this.$td)},{value:"social",label:this.$t.__("Social Networks",this.$td)},{value:"sitemap",label:this.$t.__("Sitemaps",this.$td)},{value:"tools",label:this.$t.__("Tools",this.$td)}];return this.$isPro&&t.push({value:"accessControl",label:this.$t.__("Access Control",this.$td)}),!this.isUnlicensed&&this.showImageSeoReset&&t.push({value:"image",label:this.$t.__("Image SEO",this.$td)}),!this.isUnlicensed&&this.showLocalBusinessReset&&t.push({value:"localBusiness",label:this.$t.__("Local Business SEO",this.$td)}),!this.isUnlicensed&&this.showLinkAssistantReset&&t.push({value:"linkAssistant",label:this.$t.__("Link Assistant",this.$td)}),t},canExport:function(){var t=this,e=[];return Object.keys(this.exportOptions).forEach((function(s){e.push(t.exportOptions[s])})),Object.keys(this.postOptions).forEach((function(s){e.push(t.postOptions[s])})),e.some((function(t){return t}))}}),methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])("redirects",["exportRedirects","exportLogs"])),{},{processExportRedirects:function(){var t=this,e=[];this.exportOptions.all?this.$constants.REDIRECT_GROUPS.filter((function(t){return"all"!==t.value})).forEach((function(t){e.push(t.value)})):Object.keys(this.exportOptions).forEach((function(s){t.exportOptions[s]&&e.push(s)}));var s=this.exportType.value;this.loading=!0,this.exportRedirects({groups:e,type:s}).then((function(e){var i=new Blob([e.body.redirects]);"json"===s&&(i=new Blob([JSON.stringify(e.body.redirects)],{type:"application/json"})),t.loading=!1,t.exportOptions={},t.postOptions={};var o=document.createElement("a");o.href=URL.createObjectURL(i),o.download="aioseo-export-redirects-".concat(t.$moment().format("YYYY-MM-DD"),".").concat(s),o.click(),URL.revokeObjectURL(o.href)}))},processExportLogs:function(t){var e=this;this["exporting"+t.charAt(0).toUpperCase()+t.slice(1)+"Logs"]=!0,this.exportLogs(t).then((function(s){e["exporting"+t.charAt(0).toUpperCase()+t.slice(1)+"Logs"]=!1;var i=new Blob([s.body.redirects]),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download="aioseo-export-redirects-log-".concat(t,"-").concat(e.$moment().format("YYYY-MM-DD"),".log"),o.click(),URL.revokeObjectURL(o.href)}))}})},a=l,c=(s("94f6"),s("2877")),p=Object(c["a"])(a,i,o,!1,null,null,null);e["default"]=p.exports},"38ed":function(t,e,s){"use strict";s("6048")},"415f":function(t,e,s){"use strict";s("2abd")},6048:function(t,e,s){},"79fd":function(t,e,s){},"94f6":function(t,e,s){"use strict";s("79fd")},cb09:function(t,e,s){},ff5d:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"aioseo-redirects-import-export"},[s("grid-row",[s("grid-column",{attrs:{md:"6"}},[s("import-aioseo"),s("import-others")],1),s("grid-column",{attrs:{md:"6"}},[s("export-redirects")],1)],1)],1)},o=[],r=s("3869"),n=s("384a"),l=s("06e3"),a={components:{ExportRedirects:r["default"],ImportAioseo:n["default"],ImportOthers:l["default"]}},c=a,p=(s("415f"),s("2877")),u=Object(p["a"])(c,i,o,!1,null,null,null);e["default"]=u.exports}}]);