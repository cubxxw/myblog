(window["aioseopjsonp"]=window["aioseopjsonp"]||[]).push([["redirects-pro-partials-HTTPHeaders-vue"],{"12e5":function(e,t,s){},e963:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("core-card",{attrs:{slug:"fullSiteRedirectsHttpHeaders"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.strings.httpHeaders)+" ")]},proxy:!0}])},[s("div",{staticClass:"aioseo-section-description"},[e._v(" "+e._s(e.strings.description)+" ")]),s("table",{staticClass:"redirects-options-table",attrs:{cellspacing:"0",cellpadding:"0"}},[s("thead",[s("tr",[s("td",[e._v(e._s(e.strings.location))]),s("td",[e._v(e._s(e.strings.header))]),s("td",[e._v(e._s(e.strings.value))]),s("td")])]),s("tbody",[e.parsedHeaders.length?e._e():s("tr",{staticClass:"even"},[s("td",{attrs:{colspan:"4"}},[e._v(e._s(e.strings.addHeadersMessage))])]),e._l(e.parsedHeaders,(function(t,a){return s("tr",{key:a,class:{even:0===a%2}},[s("td",{staticClass:"location"},[s("base-select",{attrs:{size:"medium",options:e.locationOptions,value:e.getHeaderValue("location",a)},on:{input:function(t){return e.updateHeader("location",t,a)}}})],1),s("td",{staticClass:"httpHeader"},["custom"!==e.getHeaderValue("header",a,!0)?s("base-select",{attrs:{size:"medium",filterable:!0,options:e.headerOptions,"group-label":"groupLabel","group-values":"options",value:e.getHeaderValue("header",a),placeholder:e.strings.headerPlaceholder},on:{input:function(t){return e.updateHeader("header",t,a)}}}):e._e(),"custom"===e.getHeaderValue("header",a,!0)?s("base-input",{attrs:{size:"medium",value:e.getHeaderValue("customHeader",a),"append-icon":"circle-close"},on:{input:function(t){return e.updateHeader("customHeader",t,a)},"append-icon-click":function(t){return e.updateHeader("header","",a)}}}):e._e()],1),s("td",{staticClass:"value",class:{custom:e.isHeaderValueCustom(a)}},[e.getHeaderOptions(a).length?e._e():s("base-input",{attrs:{size:"medium",value:e.getHeaderValue("value",a)},on:{input:function(t){return e.updateHeader("value",t,a)}}}),e.getHeaderOptions(a).length?s("base-select",{attrs:{size:"medium",filterable:!0,options:e.getHeaderOptions(a),value:e.getHeaderValue("value",a),multiple:e.getHeaderMultiple(a)},on:{input:function(t){return e.updateHeader("value",t,a)}}}):e._e(),e.isHeaderValueCustom(a)?s("base-input",{attrs:{size:"medium",value:e.getHeaderValue("customValue",a)},on:{input:function(t){return e.updateHeader("customValue",t,a)}}}):e._e()],1),s("td",{staticClass:"actions"},[s("core-tooltip",{attrs:{type:"action"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.delete)+" ")]},proxy:!0}],null,!0)},[s("svg-trash",{nativeOn:{click:function(t){return e.removeRow(a)}}})],1)],1)])}))],2),s("tfoot",[s("tr",[s("td",{attrs:{colspan:"4"}},[s("base-button",{attrs:{size:"small-table",type:"black"},on:{click:function(t){return e.addRow(null)}}},[s("svg-circle-plus"),e._v(" "+e._s(e.strings.addHeader)+" ")],1),s("base-button",{attrs:{size:"small-table",type:"black"},on:{click:e.addSecurityPresets}},[s("svg-circle-plus"),e._v(" "+e._s(e.strings.addSecurityPresets)+" ")],1),s("base-button",{attrs:{size:"small-table",type:"black"},on:{click:e.addCorsPresets}},[s("svg-circle-plus"),e._v(" "+e._s(e.strings.addCorsPresets)+" ")],1)],1)])])])])},i=[],r=s("53ca"),n=s("5530"),o=(s("d81d"),s("7db0"),s("4de4"),s("159b"),s("ac1f"),s("466d"),s("2f62")),d={location:"site",header:null,value:null},l={data:function(){return{strings:{httpHeaders:this.$t.__("HTTP Headers",this.$td),description:this.$t.__("Site headers are added across your site, including redirects. Redirect headers are only added to redirects.",this.$td),location:this.$t.__("Location",this.$td),header:this.$t.__("Header",this.$td),value:this.$t.__("Value",this.$td),delete:this.$t.__("Delete",this.$td),addHeader:this.$t.__("Add Header",this.$td),addSecurityPresets:this.$t.__("Add Security Presets",this.$td),addCorsPresets:this.$t.__("Add CORS Presets",this.$td),addHeadersMessage:this.$t.__("Add headers by clicking in the options below.",this.$td),headerPlaceholder:this.$t.__("Select a header",this.$td)}}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])("redirects",["redirectOptions"])),{},{parsedHeaders:function(){return this.redirectOptions.fullSite.httpHeaders.map((function(e){return e?JSON.parse(e):{}}))},locationOptions:function(){return[{label:this.$t.__("Site",this.$td),value:this.$t.__("site",this.$td)},{label:this.$t.__("Redirect",this.$td),value:this.$t.__("redirect",this.$td)}]},headerOptions:function(){var e=this,t=this.$constants.HTTP_RESPONSE_HEADERS;return t.find((function(t){return t.groupLabel===e.$t.__("Custom",e.$td)}))||t.push({groupLabel:this.$t.__("Custom",this.$td),options:[{label:this.$t.__("Custom",this.$td),value:"custom"}]}),t}}),methods:{removeRow:function(e){this.$delete(this.redirectOptions.fullSite.httpHeaders,e),0===this.redirectOptions.fullSite.httpHeaders.length&&this.addRow()},addRow:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=d),e=JSON.stringify(Object(n["a"])({},e)),(!t||t&&0===this.redirectOptions.fullSite.httpHeaders.filter((function(t){return t===e})).length)&&this.redirectOptions.fullSite.httpHeaders.push(e)},addRows:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((function(e){return t.addRow(e,s)}))},updateHeader:function(e,t,s){var a=JSON.parse(this.redirectOptions.fullSite.httpHeaders[s]);t="undefined"!==typeof t.value?t.value:t,t="object"===Object(r["a"])(t)&&t.length?t.map((function(e){return e.value})):t,a[e]=t,"header"===e&&(a.value=""),this.$set(this.redirectOptions.fullSite.httpHeaders,s,JSON.stringify(a))},getHeaderValue:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=JSON.parse(this.redirectOptions.fullSite.httpHeaders[t]),i=a[e],n=null;if(s)return i;switch(e){case"location":i=this.locationOptions.find((function(e){return i===e.value})),i||(i=this.locationOptions.find((function(e){return"site"===e.value})));break;case"header":this.$constants.HTTP_RESPONSE_HEADERS.forEach((function(e){var t=e.options.find((function(e){return i===e.value}));t&&(i=t)}));break;case"value":n=this.getHeaderValue("header",t),i&&"undefined"!==typeof n.options&&(i="object"===Object(r["a"])(i)?i.map((function(e){return n.options.find((function(t){return e===t.value}))})).filter((function(e){return!!e})):n.options.find((function(e){return i===e.value})));break}return i},getHeaderOptions:function(e){var t=this.getHeaderValue("header",e);return t&&"undefined"!==typeof t.options?t.options:[]},getHeaderMultiple:function(e){var t=this.getHeaderValue("header",e);return!(!t||"undefined"===typeof t.multiple)&&t.multiple},isHeaderValueCustom:function(e){return"string"===typeof this.getHeaderValue("value",e,!0)&&this.getHeaderValue("value",e,!0).match(/\[[a-zA-Z0-9_-]+\]/)},addSecurityPresets:function(){this.addRows([{location:"site",header:"X-Frame-Options",value:"deny"},{location:"site",header:"X-XSS-Protection",value:"1; mode=block"},{location:"site",header:"X-Content-Type-Options",value:"nosniff"},{location:"site",header:"Content-Security-Policy",value:"default-src 'self'; script-src 'unsafe-inline' 'unsafe-eval' http:; style-src 'unsafe-inline' http:; img-src http: data:; font-src http: data:; sandbox allow-forms allow-scripts"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"}],!0)},addCorsPresets:function(){this.addRows([{location:"site",header:"Access-Control-Allow-Origin",value:"*"},{location:"site",header:"Access-Control-Allow-Credentials",value:"true"},{location:"site",header:"Access-Control-Allow-Methods",value:["GET","POST","OPTIONS"]},{location:"site",header:"Access-Control-Allow-Headers",value:"origin"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"},{location:"site",header:"P3P",value:'CP="CAO PSA OUR"'}],!0)}},mounted:function(){0===this.redirectOptions.fullSite.httpHeaders.length&&this.addRow()}},u=l,c=(s("ef44"),s("2877")),h=Object(c["a"])(u,a,i,!1,null,"329179ba",null);t["default"]=h.exports},ef44:function(e,t,s){"use strict";s("12e5")}}]);